# üöÄ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è MVP

## –ü—Ä–æ–±–ª–µ–º–∞
Render –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SPA routing (404 –Ω–∞ `/auth`).

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: HashRouter (–ë–´–°–¢–†–û–ï)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω `BrowserRouter` –Ω–∞ `HashRouter`
- –¢–µ–ø–µ—Ä—å URL –±—É–¥–µ—Ç: `https://go-doc-generator.onrender.com/#/auth?token=...`

**–ü–ª—é—Å—ã:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É –Ω–∞ Render
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ backend
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è URL —Å `#` (–Ω–µ SEO-friendly)
- ‚ö†Ô∏è –ú–µ–Ω–µ–µ –∫—Ä–∞—Å–∏–≤—ã–π URL

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å—Å—ã–ª–∫—É —Å `#`:
```javascript
const authLink = `${frontendUrl}/#/auth?token=${authToken}`;
```

---

## üéØ –†–µ—à–µ–Ω–∏–µ 2: –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### –í–∞—Ä–∏–∞–Ω—Ç A: –¢–æ–ª—å–∫–æ Telegram Login Widget

**–£–±—Ä–∞—Ç—å:**
- ‚ùå –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –æ—Ç –±–æ—Ç–∞
- ‚ùå –°—Ç—Ä–∞–Ω–∏—Ü—É `/auth`
- ‚ùå Endpoint `/api/auth/telegram-token`

**–û—Å—Ç–∞–≤–∏—Ç—å:**
- ‚úÖ Telegram Login Widget –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- ‚úÖ Endpoint `/api/auth/telegram` (—É–∂–µ –µ—Å—Ç—å)
- ‚úÖ Endpoint `/api/auth/telegram/callback` (—É–∂–µ –µ—Å—Ç—å)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏" –Ω–∞ —Å–∞–π—Ç–µ
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Telegram Login Widget
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –≤ Telegram
4. Backend –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ —Å–æ–∑–¥–∞–µ—Ç JWT
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—â–µ –∏ –±—ã—Å—Ç—Ä–µ–µ
- ‚úÖ –ù–µ –Ω—É–∂–Ω—ã –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–æ–¥–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω –≤ BotFather (`/setdomain`)

---

### –í–∞—Ä–∏–∞–Ω—Ç B: –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –±–æ—Ç (—Ç–æ–ª—å–∫–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)

**–û—Å—Ç–∞–≤–∏—Ç—å:**
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (`/start`, `/subscription`, `/usage`)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–£–±—Ä–∞—Ç—å:**
- ‚ùå –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚ùå –°—Å—ã–ª–∫–∏ –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏–∑ –±–æ—Ç–∞

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞ (`/start`)
2. –ë–æ—Ç —Å–æ–æ–±—â–∞–µ—Ç: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Å–∞–π—Ç–µ —á–µ—Ä–µ–∑ Telegram Login Widget"
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–¥–µ—Ç –Ω–∞ —Å–∞–π—Ç –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≤–∏–¥–∂–µ—Ç
4. Backend –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ `telegram_id` –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞
- ‚úÖ –ë–æ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –≤–∏–¥–∂–µ—Ç

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è MVP

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –í–∞—Ä–∏–∞–Ω—Ç A (—Ç–æ–ª—å–∫–æ Telegram Login Widget)**

### –ü–æ—á–µ–º—É:
1. **–ü—Ä–æ—â–µ** - –º–µ–Ω—å—à–µ –∫–æ–¥–∞, –º–µ–Ω—å—à–µ —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞
2. **–ë—ã—Å—Ç—Ä–µ–µ** - –Ω–µ –Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å —Ç–æ–∫–µ–Ω –æ—Ç –±–æ—Ç–∞
3. **–ù–∞–¥–µ–∂–Ω–µ–µ** - –º–µ–Ω—å—à–µ —à–∞–≥–æ–≤ = –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫
4. **–†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ** - –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ö–æ—Å—Ç–∏–Ω–≥–∞

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. **–£–±—Ä–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –∏–∑ –±–æ—Ç–∞:**
   ```javascript
   // –í telegram-bot.js —É–±—Ä–∞—Ç—å generateAuthToken –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ /auth
   ```

2. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /start:**
   ```javascript
   await bot.sendMessage(
     chatId,
     `üéâ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ DocuGen!\n\n` +
     `‚úÖ –í—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã!\n\n` +
     `üåê –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Telegram Login Widget:\n` +
     `${frontendUrl}\n\n` +
     `üìù –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã:\n` +
     `/subscription - —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏\n` +
     `/usage - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤`,
   );
   ```

3. **–£–±—Ä–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/auth`:**
   - –£–¥–∞–ª–∏—Ç—å `src/pages/Auth.tsx`
   - –£–±—Ä–∞—Ç—å —Ä–æ—É—Ç –∏–∑ `App.tsx`

4. **–£–±—Ä–∞—Ç—å endpoint `/api/auth/telegram-token`:**
   - –£–¥–∞–ª–∏—Ç—å –∏–∑ `backend/server.js`

5. **–î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω –≤ BotFather:**
   ```
   /setdomain
   –í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
   –í–≤–µ–¥–∏—Ç–µ: go-doc-generator.onrender.com
   ```

---

## üîÑ –¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ (HashRouter)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ö–µ–º—É —Å –±–æ—Ç–æ–º:

1. ‚úÖ HashRouter —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω
2. –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –≤ –±–æ—Ç–µ:
   ```javascript
   const authLink = `${frontendUrl}/#/auth?token=${authToken}`;
   ```

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è MVP: –í–∞—Ä–∏–∞–Ω—Ç A (—Ç–æ–ª—å–∫–æ Telegram Login Widget)**
- –ü—Ä–æ—â–µ
- –ë—ã—Å—Ç—Ä–µ–µ
- –ù–∞–¥–µ–∂–Ω–µ–µ
- –ú–µ–Ω—å—à–µ –∫–æ–¥–∞

**–î–ª—è production:**
- –ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BrowserRouter –Ω–∞ Vercel/Netlify (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç SPA routing)

