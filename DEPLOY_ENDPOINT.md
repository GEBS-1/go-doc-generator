# ‚ö†Ô∏è –í–∞–∂–Ω–æ: Endpoint –Ω—É–∂–Ω–æ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å!

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

- ‚úÖ Endpoint `/api/admin/create-test-user` **–µ—Å—Ç—å –≤ –∫–æ–¥–µ** (—Å—Ç—Ä–æ–∫–∏ 1587-1683 –≤ `backend/server.js`)
- ‚ùå Endpoint **–Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ production** (`https://api.prepromo.online`) - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404
- ‚úÖ `ADMIN_SECRET` –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ Render

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —Å GitHub:
1. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `backend/server.js`
2. –ó–∞–ø—É—à—å—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

1. –ó–∞–π–¥–∏—Ç–µ –≤ Render Dashboard
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Backend —Å–µ—Ä–≤–∏—Å
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Manual Deploy"** ‚Üí **"Deploy latest commit"**

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–¥ –∑–∞–∫–æ–º–º–∏—á–µ–Ω

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ endpoint –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
- –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `backend/server.js` –Ω–∞ Render (—á–µ—Ä–µ–∑ Dashboard ‚Üí Shell –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç—Ä–æ–∫–∏ 1587-1683 —Å–æ–¥–µ—Ä–∂–∞—Ç endpoint

## ‚úÖ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∫–æ–¥ –±—É–¥–µ—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –≤—ã–∑–æ–≤:

```bash
node test-create-user.js https://api.prepromo.online admin-secret-2025-yookassa
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
```
POST https://api.prepromo.online/api/admin/create-test-user
Body: {"secret": "–≤–∞—à-admin-secret"}
```

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ endpoint –¥–æ—Å—Ç—É–ø–µ–Ω

–í—ã–∑–æ–≤–∏—Ç–µ:
```bash
curl https://api.prepromo.online/api/admin/create-test-user -X POST -H "Content-Type: application/json" -d '{"secret":"test"}'
```

–ï—Å–ª–∏ –≤–µ—Ä–Ω–µ—Ç—Å—è –Ω–µ 404, –∞ 401 –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å—Ç–∞—Ç—É—Å - –∑–Ω–∞—á–∏—Ç endpoint –¥–æ—Å—Ç—É–ø–µ–Ω!

