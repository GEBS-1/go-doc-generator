# üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

1. ‚úÖ Endpoint `/api/admin/create-test-user` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–¥
2. ‚úÖ `ADMIN_SECRET` –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ Render
3. ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≥–æ—Ç–æ–≤—ã

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞

Endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **404 Not Found** –Ω–∞ production. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ **–∫–æ–¥ –µ—â–µ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Render.

## üöÄ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∫–æ–¥ –Ω–∞ Render

**–ï—Å–ª–∏ —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ Git
2. –ó–∞–ø—É—à—å—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git add backend/server.js
   git commit -m "Add admin endpoint for creating test user"
   git push
   ```
3. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ï—Å–ª–∏ –Ω—É–∂–µ–Ω —Ä—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π:**
1. –ó–∞–π–¥–∏—Ç–µ –≤ Render Dashboard: https://dashboard.render.com
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Backend —Å–µ—Ä–≤–∏—Å
3. –ù–∞–∂–º–∏—Ç–µ **"Manual Deploy"** ‚Üí **"Deploy latest commit"**

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ endpoint –¥–æ—Å—Ç—É–ø–µ–Ω

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è (–ø–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã) –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
cd backend
node test-create-user.js https://api.prepromo.online admin-secret-2025-yookassa
```

–ï—Å–ª–∏ endpoint –¥–æ—Å—Ç—É–ø–µ–Ω, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò–ª–∏ ‚ùå –û—à–∏–±–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ —Å–µ–∫—Ä–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π)

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
cd backend
node test-create-user.js https://api.prepromo.online –≤–∞—à-admin-secret
```

–í—ã –ø–æ–ª—É—á–∏—Ç–µ:
- –õ–æ–≥–∏–Ω: `yookassa_test`
- –ü–∞—Ä–æ–ª—å: `YooKassa2025!Test`

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª –¥–ª—è –Æ–∫–∞—Å—Å—ã

–û—Ç–∫—Ä–æ–π—Ç–µ `YOOKASSA_CREDENTIALS.txt` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ:
- `[—É–∫–∞–∂–∏—Ç–µ –≤–∞—à URL]` ‚Üí URL –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ (frontend)
- `[–≤–∞—à URL]` ‚Üí URL –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ (frontend)

### –®–∞–≥ 5: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Æ–∫–∞—Å—Å–µ

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª `YOOKASSA_CREDENTIALS.txt` –∫–æ–º–∞–Ω–¥–µ –Æ–∫–∞—Å—Å—ã.

---

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å endpoint —á–µ—Ä–µ–∑ –æ–Ω–ª–∞–π–Ω —Å–µ—Ä–≤–∏—Å:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://reqbin.com/curl
2. Method: **POST**
3. URL: `https://api.prepromo.online/api/admin/create-test-user`
4. Headers: `Content-Type: application/json`
5. Body:
   ```json
   {
     "secret": "–≤–∞—à-admin-secret"
   }
   ```
6. –ù–∞–∂–º–∏—Ç–µ "Send"

---

**–ö–æ–≥–¥–∞ –∫–æ–¥ –±—É–¥–µ—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω, –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å - —è –ø–æ–º–æ–≥—É —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!** üöÄ

